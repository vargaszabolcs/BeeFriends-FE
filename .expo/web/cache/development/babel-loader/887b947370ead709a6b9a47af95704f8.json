{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport { useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport Network from \"../../constants/Network\";\nimport HiveCard from \"./HiveCard\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Container = styled(SafeAreaView).withConfig({\n  displayName: \"HivesContainer__Container\",\n  componentId: \"sc-lmcgfl-0\"\n})([\"flex:1;flex-direction:column;padding:10px;\"]);\n\nvar HivesContainer = function HivesContainer() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      hivesData = _useState2[0],\n      setHivesData = _useState2[1];\n\n  var userData = useSelector(function (state) {\n    return state.app.userData;\n  });\n\n  var getData = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var data = yield axios.get(Network.API_URL + \"/beehive\", {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + (userData == null ? void 0 : userData.token)\n          }\n        });\n        setHivesData(data.data);\n      } catch (error) {\n        console.log(error);\n      }\n    });\n\n    return function getData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getData();\n  }, []);\n  return _jsx(Container, {\n    children: _jsx(FlatList, {\n      data: hivesData,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsx(HiveCard, _objectSpread({}, item));\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item._id;\n      }\n    })\n  });\n};\n\nexport default HivesContainer;","map":{"version":3,"names":["axios","React","useEffect","useState","useSelector","styled","Network","HiveCard","Container","SafeAreaView","HivesContainer","hivesData","setHivesData","userData","state","app","getData","data","get","API_URL","headers","Authorization","token","error","console","log","item","_id"],"sources":["D:/DEV/react-native/BeeFriends-FE/src/components/home/HivesContainer.tsx"],"sourcesContent":["import axios, { AxiosResponse } from \"axios\";\r\nimport React, { FC, useEffect, useState } from \"react\";\r\nimport { FlatList, SafeAreaView } from \"react-native\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport Network from \"../../constants/Network\";\r\nimport { RootState } from \"../../store/store\";\r\nimport { BeehiveData } from \"../../types\";\r\nimport HiveCard from \"./HiveCard\";\r\n\r\nconst Container = styled(SafeAreaView)`\r\n    flex: 1;\r\n    flex-direction: column;\r\n    padding: 10px;\r\n`;\r\n\r\nconst HivesContainer: FC = () => {\r\n    const [hivesData, setHivesData] = useState<BeehiveData[]>([]);\r\n\r\n    const userData = useSelector((state: RootState) => state.app.userData);\r\n    const getData = async () => {\r\n        try {\r\n            const data: AxiosResponse<BeehiveData[]> = await axios.get(\r\n                Network.API_URL + \"/beehive\",\r\n                {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        Authorization: `Bearer ${userData?.token}`,\r\n                    },\r\n                },\r\n            );\r\n            setHivesData(data.data);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getData();\r\n    }, []);\r\n\r\n    return (\r\n        <Container>\r\n            <FlatList\r\n                data={hivesData}\r\n                renderItem={({ item }) => <HiveCard {...item} />}\r\n                keyExtractor={item => item._id}\r\n            />\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default HivesContainer;\r\n"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAqC,OAArC;AACA,OAAOC,KAAP,IAAoBC,SAApB,EAA+BC,QAA/B,QAA+C,OAA/C;;;AAEA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,OAAP;AAGA,OAAOC,QAAP;;AAEA,IAAMC,SAAS,GAAGH,MAAM,CAACI,YAAD,CAAT;EAAA;EAAA;AAAA,kDAAf;;AAMA,IAAMC,cAAkB,GAAG,SAArBA,cAAqB,GAAM;EAC7B,gBAAkCP,QAAQ,CAAgB,EAAhB,CAA1C;EAAA;EAAA,IAAOQ,SAAP;EAAA,IAAkBC,YAAlB;;EAEA,IAAMC,QAAQ,GAAGT,WAAW,CAAC,UAACU,KAAD;IAAA,OAAsBA,KAAK,CAACC,GAAN,CAAUF,QAAhC;EAAA,CAAD,CAA5B;;EACA,IAAMG,OAAO;IAAA,6BAAG,aAAY;MACxB,IAAI;QACA,IAAMC,IAAkC,SAASjB,KAAK,CAACkB,GAAN,CAC7CZ,OAAO,CAACa,OAAR,GAAkB,UAD2B,EAE7C;UACIC,OAAO,EAAE;YACL,gBAAgB,kBADX;YAELC,aAAa,eAAYR,QAAZ,oBAAYA,QAAQ,CAAES,KAAtB;UAFR;QADb,CAF6C,CAAjD;QASAV,YAAY,CAACK,IAAI,CAACA,IAAN,CAAZ;MACH,CAXD,CAWE,OAAOM,KAAP,EAAc;QACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACH;IACJ,CAfY;;IAAA,gBAAPP,OAAO;MAAA;IAAA;EAAA,GAAb;;EAiBAd,SAAS,CAAC,YAAM;IACZc,OAAO;EACV,CAFQ,EAEN,EAFM,CAAT;EAIA,OACI,KAAC,SAAD;IAAA,UACI,KAAC,QAAD;MACI,IAAI,EAAEL,SADV;MAEI,UAAU,EAAE;QAAA,IAAGe,IAAH,SAAGA,IAAH;QAAA,OAAc,KAAC,QAAD,oBAAcA,IAAd,EAAd;MAAA,CAFhB;MAGI,YAAY,EAAE,sBAAAA,IAAI;QAAA,OAAIA,IAAI,CAACC,GAAT;MAAA;IAHtB;EADJ,EADJ;AASH,CAlCD;;AAoCA,eAAejB,cAAf"},"metadata":{},"sourceType":"module"}